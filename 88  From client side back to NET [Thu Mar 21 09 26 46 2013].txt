== From client side back to .NET  ==

There is a lot of chatter about this; you can do this a couple ways.

Here is a very common approach:

Drop a couple controls on the form:

  <asp:HiddenField ID="hdnCurrentPaymentHistoryTab"  runat="server" />
  
  <asp:Button ID="btnSubmit" Text='' runat='server' />
  
  ...
  
Then we do our jquery the usual way:

  <script type="text/javascript">
    jQuery(document).ready(function () {

	// initialize the .NET items (optional)
	//
        $("#<%=hdnCurrentPaymentHistoryTab.ClientID%>").val("initial value");

	// hidden buttons are a cheap way to force a postback .NET stay
	// so it will run codebehind WithEvents
	//
        $("#<%=btnSubmit.ClientID%>").addClass('hidden');

        // some funcion, called by someone (as an example)
        //
        function export_paymenthistory() {
            if ($("#<%=hdnCurrentPaymentHistoryTab.ClientID%>").val() == 1) {
                $("#<%=btnSubmit.ClientID%>").click(); // force the postback.
            }
        }


Back in the CodeBehind:

    '' called from .click() above
    Protected Sub btnSubmit_Click(sender As Object, e As System.EventArgs) Handles btnSubmit.Click
        '' we can access hdnCurrentPaymentHistoryTab.Value here.
    
    End Sub


